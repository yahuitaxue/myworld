---
title: 面试题
author: Yahui
layout: Other
category: Other
---

书名:《-》

<pre style="text-align: left;">
rpc微服务框架
	解决的两个问题：
		1.解决分布式系统中，服务之间的调用问题。
		2.远程调用时，要能够像本地调用一样方便，让调用者感知不到远程调用的逻辑。
	RPC是一种技术的概念名词
		RPC=Remote Produce Call 是一种技术的概念名词，HTTP是一种协议,RPC可以通过 HTTP 来实现,也可以通过Socket自己实现一套协议来实现.所以题目可以换一种理解,为何 RPC 还有除 HTTP 之外的实现法,有何必要，毕竟除了HTTP实现外,私有协议不具备通用性.
	Go
		官方提供一个标准 RPC库: net/rpc。
		Golang 的 rpc 支持三个级别的 RPC: TCP、HTTP、JSONRPC。但 Go 的 RPC 包只支持 Go 开发的服务器与客户端之间的交互，因为内部采用 Gob 来编码。
		Go RPC 服务端通过注册对象，使用对象的类型名暴露服务。服务端可以注册多个不同类型的对象，不能注册相同类型的多个对象。并且对象的方法需要被远程访问，必须满足以下的条件：
			方法的类型是可输出的 (the method’s type is exported)
			方法本身也是可输出的 （the method is exported）
			方法必须由两个参数，必须是输出类型或者是内建类型 (the method has two arguments, both exported or builtin types)
			方法的第二个参数必须是指针类型 (the method’s second argument is a pointer)
			方法返回类型为 error (the method has return type error)
redis过期策略和内存淘汰策略
	淘汰策略
		volatile-lru：在设置过期时间的数据中淘汰最少使用的数据。(最后一次被使用到发生调度的时间长短)
		allkeys-lru：在所有的数据中淘汰最少使用的数据。
		volatile-lfu：在设置过期时间的数据中淘汰使用频率最低的数据。(一定时间段内页面被使用的频率)
		allkeys-lfu：在所有的数据中淘汰使用使用频率最低的数据。
		volatile-random：在设置过期时间的数据中淘汰任意随机数据。
		allkeys-random：在所有的数据中随机淘汰数据。
		volatile-ttl：在设置过期时间的数据中淘汰最早过期的数据。
		noeviction：默认策略，不淘汰数据，新增或者修改数据会抛异常，但是读操作正常进行，不受影响
	过期策略
		定时过期
		惰性过期
		定期过期
sql索引优化问题
	最大化利用索引
	尽可能避免全表扫描
	减少无效数据的查询
一个update语句的执行过程
	执行器先找引擎取 ID=2 这一行。ID 是主键，引擎直接用树搜索找到这一行。如果 ID=2 这一行所在的数据页本来就在内存中，就直接返回给执行器；否则，需要先从磁盘读入内存，然后再返回。
	执行器拿到引擎给的行数据，把这个值加上 1，比如原来是 N，现在就是 N+1，得到新的一行数据，再调用引擎接口写入这行新数据。
	引擎将这行新数据更新到内存中，同时将这个更新操作记录到 redo log 里面，此时 redo log 处于 prepare 状态。然后告知执行器执行完成了，随时可以提交事务。
	执行器生成这个操作的 binlog，并把 binlog 写入磁盘。
	执行器调用引擎的提交事务接口，引擎把刚刚写入的 redo log 改成提交（commit）状态，更新完成。
go的profile工具？
	性能分析引用runtime/pprof包即可。
	int main() {
		create, err := os.Create("cpu.pprof")
		if err != nil {
			fmt.Println("error")
		}
		err = pprof.StartCPUProfile(create)
		if err != nil {
			fmt.Println("error")
		}
		for i := 0; i < 10; i++{
			fmt.Println(i)
			time.Sleep(time.Second)
		}
		pprof.StopCPUProfile()
	}
	生成cpu.pprof文件
	使用go tool pprof cpu.pprof分析文件内容
http和tcp有什么区别
	1.
		Http协议是建立在TCP协议基础之上的。当浏览器需要从服务器 获取网页数据的时候，会发出一次http请求。
		Http通过TCP建立起一个到服务器的通道。
	2.	
		Http是无转态的连接
		TCP是有状态的长连接

		其实很多应用并非是通过tcp 的keepalive机制探活的，因为默认的两个多小时检查时间对于很多实时系统是完全没法满足的，通常的做法是通过应用层的定时监测如PING-PONG机制（就像打乒乓球，一来一回），应用层每隔一段时间发送心跳包，如websocket的ping-pong。
	3.
		http是一个简单的请求-响应协议。
		TCP是一种面向连接的、可靠的、基于字节流的传输层通信协议。
用netstat看tcp连接的时候有关注过time_wait和close_wait吗？
	<span class="image featured"><img src="{{ 'assets/images/other/tcpfourgoodbye.jpg' | relative_url }}" alt="" /></span>
go语言的时候垃圾回收，写代码的时候如何减少小对象分配
	GC开始时将栈上可达对象全部标记为黑色（不需要二次扫描，无需STW）
	GC期间，任何栈上创建的新对象均为黑色
	被删除引用的对象标记为灰色
	被添加引用的对象标记为灰色
redis的存储结构？
	<span class="image featured"><img src="{{ 'assets/images/other/redis_base_struct.png' | relative_url }}" alt="" /></span>
	string(动态字符串)
		raw和embstr是sds动态字符串，能够节约内存。当然int 是4个字节也是可以用作32位的位图，但是其大小固定比较单一。
	双向链表
	压缩列表
		详情ziplist存储是连续的内存空间，可以做压缩。当设计计算时，ziplist明显会比双向链表的指针检索慢，因此ziplist是牺牲时间换取空间的结构。list的底层采取的是压缩列表加双向链表的存储结构
	跳表
		1.跳表结合了链表和类似二分查找的思想；
		2.有很多层结构，由原始链表和一些通过“跳跃”生成的链表组成；
		3.每一层都是一个有序的链表；
		4.最底层(Level 1)的链表包含所有元素，越上层“跳跃”的越高，元素(索引)越少；
		5.查找时从顶层向下，不断缩小搜索范围；
		6.上层链表是下层链表的子序列；
		7.每个节点包含两个指针，一个指向同一链表中的下一个元素，一个指向下面一层的元素。
	整型数组
	hash表
		dict常见称之字典(dictionary)或映射(map)，其元素以键值对形式存在。是 Redis 最重要、常用的数据结构，可以说 Redis 本质就是一个 dict。dict 是为了解决算法中的查找问题而出现的，在无冲突下理论上能达到 O(1) 查找效率。Dict 本质其实就是一个 hashtable
实现map的方法除了哈希还有哪些？
	Map通常用来存储键-值对有映射关系的数据，且key唯一不可重复，value可重复。
		HashMap
		Java中TreeMap(红黑树)
gin框架的路由是怎么处理的？
	每种请求方法管理一棵单独的树
	gin框架使用的是定制版本的httprouter，其路由的原理是大量使用公共前缀的树结构，它基本上是一个紧凑的Trie tree（或者只是Radix Tree）。具有公共前缀的节点也共享一个公共父节点。
sql索引优化方式，explain字段含义
	ALL(遍历全表进行匹配如：explain select * from a where 非索引列 > 9)
	index(遍历整个索引进行匹配如：explain select 索引列 from a)
	range(索引范围匹配，常见于<,<=,>,>=,between等如：explain select * from a where 索引列 > 9)
	ref(使用非唯一索引返回某个单独值的记录如：explain select * from a where 索引列 = 9)
	eq_ref(多表查询使用唯一索引使用primary key或者unique index作为关联，并且关联是只有一个对应的条件如：explain select * from 表1,表2 where 表1.id = 表2.id)
	const,system(单表中最多有一个匹配行如：explain select * from(select * from a where 主键索引或者唯一索引 = '某个值'))
	NULL(MySQL不用访问表或者索引就能得到结果如：explain select 1+2;)
gmp具体的调度策略
	go 语言的协程
		1、go 通过调度器 P，把可运行的 goroutine 分配到工作线程上
		2、P 的本地队列不超过 256 个，如果队列满了会拿出一半 G，移动到全局队列中
		3、M 线程想运行就从 P 的本地队列获取 G，P 队列为空时就尝试从全局对队列拿一批 G 放到 P 的本地队列中
	P 的数量：
		1、环境变量 $GOMAXPROCS 或者 runtime 的方法 GOMAXPROCS () 决定
	M 的数量：
		1、go 程序启动时会设置 M 的最大数量，默认 10000，但是内核很难支持这么多线程数，所以这个限制可以忽略
		2、runtime/debug 中的 SetMaxThreads 函数，设置 M 的最大数量 一个 M 阻塞了会创建新的 M
	M 何时创建：
		没有足够的 M 来关联 P 并运行其中的可运行的 G。 比如所有的 M 此时都阻塞住了，而 P 中还有很多就绪任务，就会去寻找空闲的 M，而没有空闲的，就会去创建新的 M。
	六、调度器策略
		复用线程：避免频繁的创建、销毁线程、而是对线程复用
			1、work stealing 机制
			当本线程无可运行的 G 时，尝试从其它线程绑定的 P 偷取 G，而不是销毁线程
			2、hand off 机制
			当本线程因为 G 阻塞时，该线程释放绑定的 P，把 P 转移给其它空闲的线程执行。
			并行：GOMAXPROCS 设置 P 的数量，最多有 GOMAXPROCS 个线程分布在多个 CPU 上同时运行。
			比如：GOMAXPROCS = 核数 / 2，则最多利用了一半的 CPU 核进行并行
B+树细节优势，和哈希索引的区别，是为了解决什么问题？
	1、hash索引进行等值查询更快(一般情况下)，但是却无法进行范围查询。
		因为在hash索引中经过hash函数建立索引之后，索引的顺序与原顺序无法保持一致，不能支持范围查询。
		而B+树的的所有节点皆遵循(左节点小于父节点，右节点大于父节点，多叉树也类似)，天然支持范围。
	2、hash索引不支持使用索引进行排序，原理同上。
	3、hash索引不支持模糊查询以及多列索引的最左前缀匹配。原理也是因为hash函数的不可预测。AAAA和AAAAB的索引没有相关性。
	4、hash索引任何时候都避免不了回表查询数据，而B+树在符合某些条件(聚簇索引，覆盖索引等)的时候可以只通过索引完成查询。
	5、hash索引虽然在等值查询上较快，但是不稳定。性能不可预测，当某个键值存在大量重复的时候，发生hash碰撞，此时效率可能极差。而B+树的查询效率比较稳定，对于所有的查询都是从根节点到叶子节点，且树的高度较低。
es内部实现原理，如何保证数据一致性，如何降低压力
	持久性：通过Replica和TransLog两种机制来共同保障。
	一致性：数据写入成功后，需完成refresh操作之后才可读，由于无法保证Primary和Replica可同时refresh，所以会出现查询不稳定的情况，这里只能实现最终一致性。
	原子性：Add和Delete直接调用Lucene的接口，进行原子操作。update操作通过Delete-Then-Add完成，在Delete操作之前会加Refresh Lock，禁止Refresh操作，等Add操作完成后释放Refresh Lock后才能被Refresh，这样就保证了Delete-Then-Add的原子性。
	隔离性：采用Version和局部锁来保证更新的是特定版本的数据。
	要保证数据写入到ElasticSerach是安全的，高可靠的，需要如下的配置：
		设置wait_for_active_shards参数大于等于2。
		设置TransLog的Flush策略为每个请求都要Flush。
	鱼与熊掌不可兼得，大家需要根据实际场景合理设置参数在可靠性和可用性之间进行折中。
分库分表联表查询有哪些方式
	按时间维度（年/月/日）
		业务跟时间关联度高
		同一时间段内业务数据量分布比较均匀
		适用于报表、统计系统相关的业务
	HASH
		HASH函数的算法是简单取模，若分库和分表使用不同拆分键进行HASH时，则根据分库键的键值直接按分库数取模，如果键值是字符串，则字符串会先被换算成哈希值再进行路由计算。若分库和分表都使用同一个拆分键进行HASH时，则根据拆分键的键值按总的分表数取模
			一个分表键够用
			适合于需要按用户ID或订单ID进行分库分表的场景
			适合于拆分键是数字、字符串类型的场景
	RANGE_HASH
		选取两个拆分键，两个拆分键的后N位需确保一致，根据任一拆分键后N位计算哈希值，然后再按分库数取模，完成路由计算。此路由方式需要自行实现分片算法
			两个拆分键有关联
			查询时有其中一个拆分键值的场景
		如果采取RANGE_HASH函数作为分库分表，则最优方案是以订单号和买家id的后N位做分库分表，后续按订单号维度、买家id维度查询都能满足，卖家维度无法查询。但是前提是订单号后几位和买家id要有关联，涉及到订单号改造的过程
	ShardingSphere
		在拆分工具选择上，这里借助ShardingSphere[官网]，ShardingSphere是一套开源的分布式数据库解决方案组成的生态圈，它们能提供数据分片、分布式事务、分布式治理等功能
	综上
		因为订单一般都是由买家发起生成的，所以我们认为优先处理买家数据和订单号数据比较合理，所以我们先采用RANGE_HASH拆分算法按买家id后N位、订单号后N位维度做分库分表，作为买家表逻辑表。再用HASH拆分函数按商家id冗余一份数据，作为卖家表逻辑表
			买家库、买家表：下单填充买家表数据，用于以订单号、以买家id查询
			卖家库、卖家表：异步冗余一份买家表数据到卖家表，用于根据卖家id查数据
go实现不重启热部署
	 使用 fresh 实现热部署
		# 安装 fresh
		$ go get github.com/pilu/fresh
		# 跳转到项目目录,例如项目名为‘myapp’
		$ cd /path/to/myapp
		# 启动
		$ fresh
	使用 gin 实现热部署
		# 安装 fresh
		$ go get github.com/codegangsta/gin
		# 验证gin是否安装成功
		$ gin -h
		# 启动
		$ gin run main.go
tcp如何保证稳定性
	滑动窗口和流速控制
		111[22233]44444
			深绿色(1)代表已经收到 ACK 的段
			浅绿色(2)代表发送了，但是没有收到 ACK 的段
			白色(3)代表没有发送的段
			紫色(4)代表暂时不能发送的段
	如果发送过程中，部分数据没能收到 ACK 会怎样呢？这就可能发生重传。
		111[12111]44444
			如果段4(2)迟迟没有收到ACK。
			这个时候滑动窗口只能右移一个位置，如下图所示：
		1111[21114]4444
			在这个过程中，如果后来段4(2)重传成功(接收到ACK)，那么窗口就会继续右移。如果段4(2)发送失败，还是没能收到ACK，那么接收方也会抛弃段5、段6、段7。这样从段4开始之后的数据都需要重发。
		快速重传
		在 TCP 协议中，如果接收方想丢弃某个段，可以选择不发 ACK。发送端超时后，会重发这个 TCP 段。而有时候，接收方希望催促发送方尽快补发某个 TCP 段，这个时候可以使用快速重传能力。
		例如段 1、段 2、段 4 到了，但是段 3 没有到。 接收方可以发送多次段 3 的 ACK。如果发送方收到多个段 3 的 ACK，就会重发段 3。这个机制称为快速重传。这和超时重发不同，是一种催促的机制。
		为了不让发送方误以为段 3 已经收到了，在快速重传的情况下，接收方即便收到发来的段 4，依然会发段 3 的 ACK（不发段 4 的 ACK），直到发送方把段 3 重传。
	注：
		1.在上面所有的图片中，窗口大小是 TCP 段的数量。实际操作中，每个 TCP 段的大小不同，限制数量会让接收方的缓冲区不好操作，因此实际操作中窗口大小单位是字节数。
		2.窗口越大，同时可以发送、接收的数据就越多，支持的吞吐量也就越大。当然，窗口越大，如果数据发生错误，损失也就越大，因为需要重传越多的数据。
http和http2区别
	1.HTTP2使用的是二进制传送，HTTP1.X是文本（字符串）传送。
		二进制传送的单位是帧和流。帧组成了流，同时流还有流ID标示
	2.HTTP2支持多路复用
		因为有流ID，所以通过同一个http请求实现多个http请求传输变成了可能，可以通过流ID来标示究竟是哪个流从而定位到是哪个http请求
	3.HTTP2头部压缩
		HTTP2通过gzip和compress压缩头部然后再发送，同时客户端和服务器端同时维护一张头信息表，所有字段都记录在这张表中，这样后面每次传输只需要传输表里面的索引Id就行，通过索引ID查询表头的值
	4.HTTP2支持服务器推送
		HTTP2支持在未经客户端许可的情况下，主动向客户端推送内容
https的连接过程
	<span class="image featured"><img src="{{ 'assets/images/other/https_connect_step.jpg' | relative_url }}" alt="" /></span>
kafka如何做到高可用
	Replication：副本，是 Kafka 保证数据高可用的方式，Kafka 同一 Partition 的数据可以在多 Broker 上存在多个副本，通常只有主副本对外提供读写服务，当主副本所在 broker 崩溃或发生网络一场，Kafka 会在 Controller 的管理下会重新选择新的 Leader 副本对外提供读写服务。
分布式锁如何实现
	mysql
	redis
	ZooKeeper
		是一个为分布式应用提供一致性服务的开源组件，它内部是一个分层的文件系统目录树结构，规定同一个目录下只能有一个唯一文件名。基于ZooKeeper实现分布式锁的步骤如下：
		1.创建一个目录mylock；
		2.线程A想获取锁就在mylock目录下创建临时顺序节点；
		3.获取mylock目录下所有的子节点，然后获取比自己小的兄弟节点，如果不存在，则说明当前线程顺序号最小，获得锁；
		4.线程B获取所有节点，判断自己不是最小节点，设置监听比自己次小的节点；
		5.线程A处理完，删除自己的节点，线程B监听到变更事件，判断自己是不是最小的节点，如果是则获得锁。
goroutine创建数量有限制吗？
go并发机制
线程协程区别
锁的可重入
常用限流算法
rpc调用过程
熔断降级开源框架
serviceMash
什么操作会影响联表查询效率
一个sql的查询过程
redis单线程是如何做到支持高并发的
IO多路复用
为什么内存操作很快
innoDB为什么支持事务
内存操作为什么很快
go内存操作也要处理IO，是如何处理的?
k8s各种组件
gomap并发安全问题，如何解决
gogc
一个进程能创建的线程数量受到哪些制约？
redis主从同步怎么做的
k8s组件及其作用
k8s基本操作
docker底层实现原理
docker基本操作
linux常用操作
linux内核
集群分布式
线程
etcd
grpc
kafka
es
数据库分库分表，啥时候分库啥时候分表
数据库的存储引擎有哪些，区别是啥
innodb索引用的是啥，为什么不用b+、红黑
事务的隔离级别
层序遍历二叉树
判断二叉树是否是镜像二叉树
堆排
中间件:kafka丢失消息和不重复消费
redis底层数据结构实现
mysql索引，mongodb和mysql索引的区别，给了条sql语句问索引怎么构建
golang:切片和数组、map、gc、gpm调度模型
高并发限流、熔断
对一个链表进行排序
mysql引擎知道哪些，有哪些索引，底层是怎么实现的
redis底层实现
给n个数1n，随机n次，将这n个数输出
线程和协程的区别
io多路复用，select\poll\epoll的实现和区别
三次握手和四次挥手
长连接和短链接(怎么实现的、区别以及应用场景)
计算二叉树所有左叶子节点的和
n对括号输出所有合法的情况
n个有序的数组合并成一个
GPM调度模型
协程和线程的区别，内核态和用户态
btree和b+tree
二叉树中序遍历，递归和非递归两种方式
kafka如何保证消息有序，消息的重复和丢失
http和https的区别，https建立连接的过程
http1.1和http2.0的区别
缓存和数据库一致性的问题
syncpool的实现原理
hash冲突解决办法，有什么弊端
map里面解决hash冲突怎么做的，冲突了元素放在头还是尾
10亿的url去重怎么做
rediszset怎么使用的，底层怎么实现的，适用于什么场景
单链表找到中间节点
设计一个秒杀系统
给定一个二叉树和其中的一个结点，请找出中序遍历顺序的下一个结点并且返回。注意，树中的结点不仅包含左右子结点，同时包含指向父结点的指针
while(tree){sleep(1)}这个会有什么问题
sleep底层实现原理
线上问题一般怎么排查，比如oom
手写LRU相关知识点：模拟，结构，增删改查
一个整型数组，数组中的一个或连续多个整数组成一个子数组。求所有子数组的和的最大值
docker和虚拟机区别
k8s底层原理
linux文件系统
网络七层模型和五层模型
数据库索引
MySQL优化（索引、分表分库）
最左匹配原则？问为什么有这个东西？
同一个协程里面，对无缓冲channel同时发送和接收数据有什么问题
channel和锁对比一下
channel的应用场景
slice和array区别
向为nil的channel发送数据会怎么样
map取一个key，然后修改这个值，原map数据的值会不会变化
Hash实现、冲突解决、应用
输入URL发生的整个网络过程
Redis怎么保证数据一致性
TCP流量控制、拥塞控制
TCP半连接队列
TCP半关闭状态
TCPTIME_WAIT状态
内核态、用户态
100枚硬币，其中有一枚硬币重量不一样，用天平秤怎么快速找到这一枚硬币
LRU缓存实现，要求set\get操作o(1)时间复杂度
TCP滑动窗口
一个SQL语句的执行过程
MVCC原理
ACID的涵义，MYSQL是如何保证的
缓存失效的几种场景，以及解决方案
缓存雪崩、击穿的解决方案
如何排查线上程序问题
protobuf为什么快
分布式系统优缺点，一致性是如何保证的
雪崩、穿透和击穿
最终一致性
mysql分布式id
mysql索引慢分析：线上开启slowlog，提取慢查询，然后仔细分析explain中tye字段以及extra字段，发生的具体场景及mysql是怎么做的
mysql分库分表平滑扩容方案
docker预热
gowaitgroup的坑
k8s原理
mysql隔离级别、sql慢查询
etcd原理
给一个栈，用另外一个栈实现排序
gostruct能不能比较
select可以用于什么
context包的用途
client如何实现长连接
主协程如何等其余协程完再操作
slice，len，cap，共享，扩容
map如何顺序读取
大文件排序
数据库如何建索引
tcp与udp区别，udp优点，适用场景
raft算法是那种一致性算法
一个请求到达pod的过程、configmap、dockerfile
二叉树遍历，非递归

映客
goslice和map的区别，slice和数组的区别
go结构体和结构体指针的区别
go深拷贝，什么时候需要深拷贝
如何拿到多个goroutine的返回值，如何区别他们
go如何避免panic
设计用户详情的表，如何生成主键
分库之后唯一性如何保证
实现一个队列访问复杂度为O(1)
设计一个日榜系统，分布式下如何做
说下项目里面遇到的优化问题
说下项目当时的实现方式
哪些键可以设置唯一索引
如何实现一个短链接服务
一个SQL语句的执行过程
问了很多项目相关问题
为什么选型redis
结构体创建优化
中间各个链条出现问题怎么办？如何解决，有没有什么其他方案
gochannel实现排序
连接池
读过什么go源码没有
linux常用命令罗列一下
用正则去掉空行
四次挥手
go语言gc了解吗？
redis设计稳定性
协程线程区别
你有什么薄弱的地方?
自己未来的技术规划是什么
go什么场景使用接口
结构体传递场景
技术积累
技术计划
让你最有成就感的事情
对加班怎么看
最近在看什么书？

伴鱼
自我介绍
算法题
限时二十分钟
//给定一个以字符串表示的非负整数num，移除这个数中的k位数字，使得剩下的数字最小。
//注意:
//●num的长度小于10002且≥k。
//●num不会包含任何前导零。
//输入/输出示例：
//Input:
//num="1432219",k=3
//Output:
//"1219"
//Explanation:移除掉三个数字4,3,和2形成一个新的最小的数字1219。

docker容器化技术的核心技术
对k8s的基础概念的了解情况
对k8s有哪些操作呢？
k8syml文件是如何写的？
linux常用操作
查端口用什么命令？
lsof查不到的话用什么命令？
系统上有个大文件，但是不知道文件的名字和路径，在当前用户的用户空间下，如何找到他？
看cpu负载用什么命令
看io用什么命令
对mysql的设计掌握如何？
什么场景下联合索引会失效？
mysql默认的存储引擎
使用的索引数据结构是什么？
B+数和B树相比有什么优点？
默认的事务隔离级别是什么？
这个隔离级别是如何实现的？
如果实现分布式事务？
对redis有了解吗？
redis数据持久化方式有哪些？
主从模式下，新加入一台从服务器，数据同步是怎么同步的？
集群模式下如何保证高可用
redis有哪些数据类型
有序集合底层怎么实现的？
redis字符串是如何存储的？
tcp握手，为什么是四次挥手
挥手time_wait阶段是什么时候
time_wait时间太长会怎样？
你有哪些擅长的基础知识是我还没问到的吗？

项目讨论：个人项目讨论
项目设计：多平台消息推送系统
如果要你实现这样一个系统，你思考下如何实现，说下实现方式
你能想到哪些问题？
推送量很大，资源隔离问题
消息的可靠性自己做IM消息，第三方可靠性不强
如果要做群聊，对于离线的人上线之后如何收到未收到的消息？
写扩散和读扩散概念？
未来的技术规划是怎样的？
未来找工作会更看重哪些点？
在推动项目上有什么经验吗？

跟谁学
算法题
限时十分钟
//实现一个有序的map
//支持add
//支持delete
//支持迭代

自我介绍
着重讲下简历里的一个项目
为什么没有选择开源ELK体系，后续有了解吗？为什么要做重复造轮子的事情
goroutine在项目里面主要承担了什么责任
channel在项目里面是什么作用？
项目中正则处理火焰图是如何评估的？
有对比过其他库吗？
go开发多长时间了？
数组和切片的关系和区别
内存申请上有什么区别
函数传递有什么区别
切片底层的架构
如何把数组转化成一个切片
gmp模型说一下
服务能开多少个m由什么决定
开多少个p由什么决定
m和p是什么样的关系
同时启了一万个g，如何调度的？
go里面channel是什么样的概念
channel和共享内存有什么优劣势？
channel的底层有了解过吗
go里面interface是什么概念
相比于javac++interface有什么区别吗？
docker是基于什么来实现的
docker分层打包了解吗
docker怎么看日志
容器的cpu和内存占比
docker端口映射怎么看？
后续的技术规划是怎样的？

反问
你是这边项目的leader吗？
团队情况是什么样的？
面试的岗位是不确定的是吗？
会有月度谈话之类的吗？
您能说下您的工作经历吗？

京东云
实现lru，大概写下思路
自我介绍
项目介绍：问的比较细
devops相关
介绍下k8s的基础组件
k8s组件的职责
介绍下和k8s有关的项目
项目优化流程怎么做的？
问了很多项目细节
实时报警怎么做的
性能优化怎么做的？怎么发现问题的？怎么修复的？
项目里面你的职责主要是什么？
对linux常用命令熟悉吗
数组和切片的区别
线程和协程的区别
一个进程能创建多少线程受哪些因素的限制
golang用到哪些框架
反转单链表如何实现，口述一下
说一下上面lru算法的实现思路
你觉得java和golang有什么优势劣势？

旷视科技
快排
对docker和k8s使用多吗？使用到什么程度？
定制化开发了哪些功能？
监听pod状态变化是怎么实现的
对k8s使用了解到什么程度，组件这些
如果有一个节点不可用了，如何把pod驱逐到其他节点
kubectlapply和create有什么区别
如何更新一个k8s服务
pod里面可以有多个容器吗
pod内容器是相互隔离的吗
你们怎么去监控一个服务是否故障
容器日志是如何采集的，流程是怎么走的
dockerfile经常写，有什么常用命令
cmd和entrypoint有什么区别
介绍下在线上课的项目
对redis作为缓存使用熟悉吗？
雪崩、穿透、击穿说下以及如何解决预防
缓存淘汰机制了解吗，lru说下
golangwait.group用过吗？
go里面map是并发安全的吗？不是并发安全该如何使用？
读写锁说下
defer用的多吗？有哪些应用
异常捕获是如何做的？
常用的数据结构说下
redis跳表知道吗？
跳表和二叉检索树优劣
数组是如何实现用下标访问任意元素的
浏览器浏览网页前进后退如何实现？
如何查找一个无序数组的第K大元素

滴滴
写个二分查找
自我介绍
挑一个项目具体说下
怎么理解“不要用共享内存来通信，而是用通信来共享内存”
用过什么缓存？
redis是单线程还是多线程？
redis作为单线程，是怎么支持高并发的？
对内存操作更深入的了解过吗？
有没有想过内存操作为什么很快？
redis内存操作很快？有没有IO读写
IO读写什么时候会发生？
IO什么时候会做写入？
redis写入通信协议是什么？
redis写入操作IO操作快是因为异步
用go协程的时候也是要走IO的，go是如何处理的？
IO多路复用有看过吗？
redis的数据结构了解哪些？深入说下内部实现
跳表是一种什么结构？
扩展类型说下
hyperloglog详细说下
数据库用过哪些？
数据库引擎用什么?
怎么理解ACID这个概念
innoDB支持事务，他为什么支持事务？
看过B树B+树这些数据结构吗？理解不理解这些树的构造，是要解决什么问题？
说下对docker的理解，是解决什么问题的？
工作的时候用过什么消息中间件？
版本控制用的什么？
平时是怎么学习的？

自我介绍
你个人更偏好业务方向和基础架构方向？
挑一个对你来说有挑战的项目，说下其中的难点，是怎么解决的？
用redis在服务里面解决什么样的问题？
nodejs和go是基于什么样的考虑是用这两种语言的？
限制用户评论过去一个小时内只能评论三次，用redis实现？
mysql的存储引擎了解哪些？
mysql索引用过哪些？
了解过聚簇索引和非聚簇索引吗？
覆盖查询和回表查询了解吗？
分析sql性能好坏如何分析？
explain里面其他字段关注过吗？type字段关注过吗？
B+树和哈希索引区别是什么？
锁的类型用过哪些
什么叫悲观锁、什么叫乐观锁
乐观锁如何保证最终一致性？
事务的基本特性？解释一下
事务隔离级别有哪些？解释一下
分库分表分区有哪些差别？
分表遇到联表查询怎么分页？
shardingjdbc如何实现分页查询的？其内部偏移如何实现的？
除了用jdbc和中间件方式之外，分库分表下联表查询还有别的解决方案吗？
nginx用过吗？
大致了解nginx的哪些功能？
nginx的负载均衡是在第几层？
除了nginx的负载均衡还了解过其他负载均衡吗？
反向代理和正向代理有什么差别吗？
linux熟悉吗？
如何统计nginx日志里面的访问量最多的十个IP地址？
es用过吗？使用过哪些功能？
了解其内部实现吗？
es写入数据如何保证两边数据一致性，两边数据同时写入会越来越大？

自我介绍
对新的机会主要看哪些方面？
挑一个个人感觉比较满意，存在技术挑战的事情，说一下细节
在基础架构服务稳定性方面有什么总结吗？
如何保证服务高并发的？
细节的优化点有哪些？
golang垃圾回收机制了解吗？
mysql主键索引和非主键索引在搜索和检索过程中有什么区别吗？
事务的隔离级别有哪些？
脏读幻读说一下
mysql如何实现事务的？
mysql主从同步过程了解吗？
分库分表常用模式
一开始一个项目数据比较多，后来需要分库分表，有什么思路在不停服务的情况下做到平滑切换？
设计一个短链接服务

学而思
自我介绍
在第一家公司主要做些什么？
后端核心开发的项目是什么？
权限系统如何做？
接口权限如何做？
在线消息服务讲下
如何避免redis故障
日志监控怎么做的？如何设计的？
写入ES想过如何降低压力吗？
火焰图怎么来寻找瓶颈的？
gpm模型
如何实现一个线程安全的map
创建一个数组底层扩容
make一个slice参数怎么写？
mysql的索引结构
对b+树了解吗？
什么会影响联合索引查询效率
用栈实现队列
用栈能实现双向队列吗？
主要做哪些基础架构工作呢？

网易
自我介绍
未来的主要方向
介绍下之前的项目用到的优化点、难点
为什么不要大量使用goroutine
gpm模型
go里面goroutine创建数量有限制吗？
线程和协程有什么区别
golang支持哪些并发机制
go利用channel通信的方式
有缓冲和无缓冲channel的区别
channel实现原理
被close的channel会有什么问题
分布式锁知道哪些？用channel如何实现？
集群用channel如何实现分布式锁
并行goroutine如何实现
go用共享内存的方式实现并发如何保证安全？
go的锁是可重入的吗？
获取不到锁会一直等待吗？
那如何实现一个timeout的锁？
go切片是如何实现的
主要用redis实现哪些功能
缓存穿透如何解决
常用限流算法
令牌桶和漏桶有什么区别
不同服务之间通信有哪些方式
一次rpc要经过哪些过程
rpc框架如何做性能调优
用过哪些rpc框架
说下熔断、限流、降级、雪崩
熔断降级知道哪些开源框架吗？
docker和虚拟机有什么区别
serviceMash用来解决什么问题的？
devops相关技术有哪些

美团
自我介绍
监控软件用的什么？
为什么没用开源监控软件
现在的监控体系是什么流程？
为什么没用logstash？
非递归方式实现前序遍历二叉树

腾讯
算法lru
项目相关
go语言如何实现服务不重启热部署
go性能分析工具
tcp如何实现稳定性
http和http2区别
https如何实现的，证书是怎么获取的？
如何实现分布式锁
gpm模型
为什么gpm模型会更快？
线程协程区别
redis如何做到高可用
redis故障转移策略
kafka如何做到高可用
mysql事务的隔离级别

格步科技
自我介绍
用k8s主要做哪些功能？
链表和数组的区别，以及各种操作上的复杂度
谈下对散列表的理解，深入
对lru算法了解吗？在上面场景下使用呢？
说下你知道的排序算法
说下快排的大概的操作过程
快排的平均的时间复杂度
快排什么情况下是最慢的？
常用的数据库有哪些？
mysql的事务四个特性
mysql事务的隔离级别，分别解决了什么问题？
一条sql语句比较慢用什么方式去优化？
从浏览器上输入一个网址到浏览器加载内容，中间过程中发生了哪些事情？尽可能说知道的
nginx负载均衡策略
服务器上有大量time_wait状态，如何分析一下为什么会这样？
算法：一个奇怪的没听明白的问题
算法：括号匹配问题，说下思路

知乎
实现一个函数，有两个参数分别是升序的整数数组a和b，返回合并后的升序整数数组
待优化SQL
```
SELECTa,b,c,dFROMtb
WHEREc=4
ORDERBYa,b
索引
(c)
待优化SQL
SELECTa,b,c,dFROMtb
WHEREa=9ANDc=4
ORDERBYa,b
索引
(a,c)
待优化SQL
SELECTa,b,c,dFROMtb
WHEREb=9ANDa>4
ORDERBYa,b
索引
(a,b)
```
说下项目
视频是如何做的？
展开讲下技术点和收获
知道mysqlinnodb是什么数据结构吗？
用基础数据结构实现一个map
map会遇到一些并发安全的问题，为什么就并发不安全了？
为什么给变量一个基础类型没有并发安全问题？
如何解决这个问题？
rpc底层实现
是如何做到和本地调用一样的？
rpc服务是如何找到其他目标服务的？
redis数据结构有哪些？
了解redis数据结构底层实现吗？
跳表是怎样的数据结构
为什么跳表查询复杂度很低
redis应用场景还有哪些？
httprestful的定义规范
常见的http状态码
golang介绍下gmp模型

自我介绍
说一个觉得不错的项目
说一下项目的业务场景
命令的时间差如何保证，命令混乱了怎么办（时间戳记录在服务器可以吗？）
最近在学习什么？
你个人最近感兴趣的点是什么？
docker是解决什么问题？
k8s是解决什么问题？
为什么现在考虑换工作
你想找什么样新的工作？
下一份工作看重什么？
如果说你现在定一个目标三到五年之后想要成为什么样子？
技术和业务方面的要求是什么？
如果让你选择只做技术和只做业务你选择哪个？

网易
自我介绍
有挑战性的项目介绍下
项目优化点说一下
tcp和udp有什么区别，在基础时间和传输层有什么区别
http和tcp有什么区别
用操作系统接口写过网络接口客户端
linux一般常用哪些命令
用netstat看tcp连接的时候有关注过time_wait和close_wait吗？
fork的底层实现方式
redis如何实现事务
复杂一点的条件，比如说判断一个数字大于多少如何实现事务？
如果要从redis里面删除大量的数据要怎么做？
list里面有大量数据，删除大量数据要注意什么
go语言的时候垃圾回收，写代码的时候如何减少小对象分配
string和byte数组有什么区别？
channel有缓冲和无缓冲在使用上有什么区别？
关闭channel有什么作用？
如果一个包要依赖另一个包，这个时候如何写单元测试
知道浮点数在机器上面怎么存储的
用go实现一个协程池，大概用什么实现
lru如何实现

反问：
这是交叉面试吗？
传媒部这边主要负责网易那块儿业务
技术部这边是往go这边切吗？
往go这边切的原因是什么？

百度
自我介绍
详细说下公司里面大的系统遇到的技术难点
消息转发用的什么技术
线上流量多大？
为什么不用一些更稳定的消息队列
go里面为什么需要多协程？
知道processor大小是多少吗？
goroutine为什么会存在，为什么不使用线程？
算法：二维矩阵顺时针原地旋转90度
算法：找出字符串中不包含重复子串的最大长度
redis的存储结构？
redis单线程为什么快？
k8s里面调度的关键步骤

猿辅导
自我介绍
说一下代表你技术能力的项目
你在项目里面的职责是什么？
cicddevops做了什么说一下
redis这边做了什么？
个人对mysql和redis细节了解吗？
redis的string是怎么存储的？
了解过redis的存储方式吗？
系统日志监控怎么做的？
已经上了k8s为什么不用推荐的开源体系？
有没有什么我没有问到你想说的技术点
算法：实现lru，不考虑线程安全，可以使用所有标准库
解释下你写的算法
算法：两个数组，求两个数组的交集
为什么map是O(1)的时间复杂度
实现map的方法除了哈希还有哪些？

高德
自我介绍
选一个比较熟悉的项目讲讲
筛选日志的时候，日志格式是不一样的，你们是如何处理的？
处理日志的时候如果日志量比较大会堆积吗？怎么处理的？
日志落盘到机器上，是如何采集的？
采集服务有问题的话可能会影响报警的及时性吗？
处理日志的时候如果发现突然量变大，该如何扩容让以前堆积的日志可以消耗掉？
调研的正则库内部是怎么实现的？
go里面比较成熟的日志框架了解过没有
redis发布订阅怎么实现的？你自己要怎么实现？
redis高可用怎么做？
了解redis主从复制机制吗？
分布式锁有哪些实现方式
redis的setnx底层怎么实现的？
go协程线程进程区别
详细讲下gmp模型
了解的gc算法有哪些？
go的gc原理了解吗？
go的init函数是什么时候执行的？
多个init函数执行顺序能保证吗？
gin框架的路由是怎么处理的？
mysql索引结构
B+树和B树有什么区别
快排

新浪
自我介绍
挑一个项目介绍下亮点和难点
说下websocket是哪一层协议？
osit层
常见http状态码
各种项目问题
进程阻塞怎么处理？就是进程完全不运行了，但是pid还在
CICD主要做了什么？
用火焰图的优势？
cgo了解过引入的风险点吗？
为什么不要频繁创建和停止goroutine
channel底层是用什么实现的？
数据库加密算法是怎么设计的？设计这种东西通用规范是怎么设计的？
在第一个公司为什么离开了
时间同步问题？
ntp协议

小米
自我介绍
算法：二分查找
sql索引优化问题
mysql数据库引擎
tcp三次握手四次挥手
项目用redis的原因
go的切片扩容机制
linux里面线程和进程的区别
go使用中遇到的问题
一个update语句的执行过程
websocket请求头
消息队列这些用过吗？
微服务注册发现说一下
说一下从浏览器按下一个搜索的完整过程
gomap的底层实现
说一下同步阻塞和异步非阻塞
go的profile工具？


字节
自我介绍
forrange坑输出
gmp模型
遇到过什么语法问题
对比下node和go
为什么用redis没有用成熟的kafka这些消息队列
redis的基础数据结构和底层实现
网关层限流，限流策略
消息重试，消息幂等问题
实现一个Promise.all
go实现一个并发限制爬虫

挑一个比较突出的技术成就聊一下
websocket的稳定性是如何做的？
海外机器的延迟如何保证
为什么会选用websocket？
websocket兼容性是如何做的？
兼容性如何保证的？
如果现在选型的话会如何选？
能对比一下websocket、长连接、EventSource的优缺点吗
在前端如何处理websocket兼容性问题？
如何去设计兼容这一层？
你对前端这边了解到什么程度？
js原型链原型继承了解吗？
js变量提升作用域问题？
算法题：n*n的矩阵，按圈顺时针打印这个矩阵
写完之后做一些testcase，把需要的case都列一下

好未来
自我介绍
说一个项目的架构
go主要用搜框架
对go的中间件和工作机制有了解吗？
对数据库操作有什么了解吗
对连接池有了解吗？
go的垃圾回收机制
gmp模型
go的sync.Map了解吗
channel主要做什么事情
数据库这块儿mysql用的多吗？
存储引擎了解哪些？
对mysql索引了解哪些
redis的过期策略是什么？
微服务这边用到哪些？
算法：两个无序数组找到他们的交集
算法：分层遍历二叉树
常见的http状态码
tcp和udp区别
tcp三次握手四次挥手
业务迭代遇到过晚上上线的事情吗？
上线的时候业务中断有什么方式去规避吗？
k8spod切换策略

自我介绍
做过的项目说一下
怎么检查go问题
未来技术方向怎么选
gmp模型
切片的底层实现
go和node的差别

自我介绍
k8s如何找到一个节点上的所有pod
如何通过goclient写代码获取
日志监控怎么做的？
dockerfilecmd和entrypoint有什么区别
项目里面有自己独立负责的吗？
说下在线教室
如何保证连接的均衡？不至于所有连接连到一个地方？
调研的ocr识别是做什么？
做个题，看下这个这么写有什么问题
写个channel相关的题，并发模型，爬虫url，控制并发量
context包内部如何实现的？

自我介绍
你在第一家公司服务的用户是谁？
素质教育还是应试教育？
你在里面用技术解决什么问题？
这里面有什么你觉得做得比较好的项目？
视频用的什么服务？
信令用wss还是ws？
调度哪个用户连接哪个机器？
如果业务量大，如何让客户端能够均衡的连接服务器
wss是基于tcp的，tcp有个半连接队列，有没有遇到发了信令但是服务器没收到的情况？
自习和用户增长？
题拍拍主要做拍搜服务的，题拍拍主要做增长，后面会做微服务架构k8s等
考虑问题的时候从用户角度去考虑？用户是谁？为谁服务？
自我介绍
devops是怎么做的？
会保留一些tag、镜像之类的东西吗？
服务的属性配置用的什么？
docker是怎么做隔离的？
docker和宿主机有几种网络通信方式
k8s和pod什么关系？
k8s定义了什么标准来操纵docker
k8s有几种service类型
报警这边怎么做的？
为什么没有用ELK
go怎么实现封装继承多态
为什么go的变量申请类型是为了什么？
</pre>